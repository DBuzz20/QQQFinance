<!DOCTYPE html>
<html lang="en">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>QQQFinance</title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">
    </head>
  <body>
    <%=render "/header"%>
    <p>
      <div class="row">
        <div class="col px-4">
        Paese
          <select class="form-select" aria-label="Default select example">
            <option selected>Qualsiasi</option>
            <option value="1">Australia</option>
            <option value="2">Canada</option>
            <option value="3">China</option>
            <option value="4">Netherlands</option>
            <option value="5">United Kingdom</option>
            <option value="6">United States</option>
            <option value="7">Uruguay</option>
          </select>
        </div>
        <div class="col">
          <label for="examplePrice" class="form-label">Prezzo minimo</label>
          <div class="input-group mb-3">
            <span class="input-group-text">€</span>
            <input type="text" class="form-control" aria-label="Amount (to the nearest euro)">
            <span class="input-group-text">.00</span>
          </div>
          <label for="examplePrice2" class="form-label">Prezzo massimo</label>
          <div class="input-group mb-3">
            <span class="input-group-text">€</span>
            <input type="text" class="form-control" aria-label="Amount (to the nearest euro)">
            <span class="input-group-text">.00</span>
          </div>
        </div>
        <div class="col">
          <label for="exampleMarketcap" class="form-label">Marketcap minimo</label>
          <div class="input-group mb-3">
            <span class="input-group-text">€</span>
            <input type="text" class="form-control" aria-label="Amount (to the nearest euro)">
            <span class="input-group-text">.00</span>
          </div>
          <label for="exampleMarketcap2" class="form-label">Marketcap massimo</label>
          <div class="input-group mb-3">
            <span class="input-group-text">€</span>
            <input type="text" class="form-control" aria-label="Amount (to the nearest euro)">
            <span class="input-group-text">.00</span>
          </div>
        </div>
        <div class="col">
          Settore
          <select class="form-select" aria-label="Default select example">
            <option selected>Qualsiasi</option>
            <option value="1">Communication services</option>
            <option value="2">Consumer cyclical</option>
            <option value="3">Consumer defensive</option>
            <option value="4">Energy</option>
            <option value="5">Healthcare</option>
            <option value="6">Industrials</option>
            <option value="7">Real estate</option>
            <option value="8">Techonology</option>
          </select>
        </div>
        <div class="col">
          <label for="exampleVolume" class="form-label">Volume minimo</label>
          <div class="input-group mb-3">
            <input type="text" class="form-control" aria-label="VolumeMin">
          </div>
          <label for="exampleVolume2" class="form-label">Volume massimo</label>
          <div class="input-group mb-3">
            <input type="text" class="form-control" aria-label="VolumeMax">
          </div>
        </div>
        <div class="col">
          <label for="exampleEBITDA" class="form-label">EBITDA min</label>
          <div class="input-group mb-3">
            <span class="input-group-text">€</span>
            <input type="text" class="form-control" aria-label="EbitdaMin (to the nearest euro)">
            <span class="input-group-text">.00</span>
          </div>
          <label for="exampleEBITDA2" class="form-label">EBITDA max</label>
          <div class="input-group mb-3">
            <span class="input-group-text">€</span>
            <input type="text" class="form-control" aria-label="EbitdaMax (to the nearest euro)">
            <span class="input-group-text">.00</span>
          </div>
        </div>
        <div class="col px-4">
          <label for="exampleROE" class="form-label">ROE min</label>
          <input type="text" class="form-control" aria-label="RoeMin">
          <label for="exampleROE2" class="form-label">ROE max</label>
          <input type="text" class="form-control" aria-label="RoeMax">
        </div>
      </div>
      <div class="row">
        <div class="col px-4">
          <label for="exampleROA" class="form-label">ROA min</label>
          <input type="text" class="form-control" aria-label="RoaMin">
          <label for="exampleROA2" class="form-label">ROA max</label>
          <input type="text" class="form-control" aria-label="RoaMax">
        </div>
        <div class="col">
          <label for="examplePE" class="form-label">PE min</label>
          <input type="text" class="form-control" aria-label="PeMin">
          <label for="examplePE2" class="form-label">PE max</label>
          <input type="text" class="form-control" aria-label="PeMax">
        </div>
        <div class="col">
          <label for="examplePS" class="form-label">PS min</label>
          <input type="text" class="form-control" aria-label="PsMin">
          <label for="examplePS2" class="form-label">PS max</label>
          <input type="text" class="form-control" aria-label="PsMax">
        </div>
        <div class="col">
          <label for="examplePB" class="form-label">PB min</label>
          <input type="text" class="form-control" aria-label="PbMin">
          <label for="examplePB2" class="form-label">PB max</label>
          <input type="text" class="form-control" aria-label="PbMax">
        </div>
        <div class="col">
          <label for="exampleDY" class="form-label">Div Yield min</label>
          <input type="text" class="form-control" aria-label="DyMin">
          <label for="exampleDY2" class="form-label">Div Yield max</label>
          <input type="text" class="form-control" aria-label="DyMax">
        </div>
        <div class="col">
          <label for="exampleDE" class="form-label">Debt Eq min</label>
          <input type="text" class="form-control" aria-label="DeMin">
          <label for="exampleDE2" class="form-label">Debt Eq max</label>
          <input type="text" class="form-control" aria-label="DeMax">
        </div>
        <div class="col px-4">
          <label for="exampleOPM" class="form-label">OP Margin min</label>
          <input type="text" class="form-control" aria-label="OpMMin">
          <label for="exampleOPM2" class="form-label">OP Margin max</label>
          <input type="text" class="form-control" aria-label="OpMMax">
        </div>
      </div>
      <div class="d-grid gap-4 d-md-flex justify-content-md-center">
        <button class="btn btn-outline-primary" type="submit">Aggiorna lista</button>
      </div>
    </p>
    <p>
      <% if current_user %>
      <div class="position-relative m-4 d-md-flex justify-content-md-center">
        <form class="row g-3">
          <div class="col-auto">
            <label for="staticMessage" class="visually-hidden">CodiceISIN</label>
            <input type="text" readonly class="form-control-plaintext" id="staticMessage" value="Aggiungi al wallet:">
          </div>
          <div class="col-auto">
            <label for="inputISIN" class="visually-hidden">CodiceISIN</label>
            <input type="text" class="form-control" id="inputISIN" placeholder="Codice ISIN">
          </div>
          <div class="col-auto">
            <button type="submit" class="btn btn-primary mb-3">Ricerca</button>
          </div>
          <div class="col-auto">
            <div class="input-group mb-3">
              <input type="text" class="form-control" placeholder="Quantità" aria-label="Azioni_wallet" aria-describedby="button-addon2">
              <button class="btn btn-outline-primary" type="button" id="button-addon2">Aggiungi</button>
            </div>
          </div>
        </form>
      </div>
      <% end %>
    </p>  
    <h1>Azioni</h1>
    <table class="table">
      <thead>
        <tr>
          <th scope="col">Nome</th>
          <th scope="col"><a href="#" data-bs-toggle="tooltip" data-bs-title="Codice identificativo">ISIN</a></th>
          <th scope="col">Paese</th>
          <th scope="col">Prezzo(€)</th>
          <th scope="col"><a href="#" data-bs-toggle="tooltip" data-bs-title="Capitalizzazione di mercato">Marketcap(€)</a></th>
          <th scope="col">Settore</th>
          <th scope="col">Volume</th>
          <th scope="col"><a href="#" data-bs-toggle="tooltip" data-bs-title="Earnings Before Interests Taxes Depreciation and Amortization">EBITDA(€)</a></th>
          <th scope="col"><a href="#" data-bs-toggle="tooltip" data-bs-title="Return On Equity">ROE</a></th>
          <th scope="col"><a href="#" data-bs-toggle="tooltip" data-bs-title="Return On Asset">ROA</a></th>
          <th scope="col"><a href="#" data-bs-toggle="tooltip" data-bs-title="Price to Earnings ratio">PE</a></th>
          <th scope="col"><a href="#" data-bs-toggle="tooltip" data-bs-title="Price to Sales ratio">PS</a></th>
          <th scope="col"><a href="#" data-bs-toggle="tooltip" data-bs-title="Price to Book ratio">PB</a></th>
          <th scope="col"><a href="#" data-bs-toggle="tooltip" data-bs-title="Rapporto tra l'ultimo dividendo annuo per azione e il prezzo del titolo">Div Yield</a></th>
          <th scope="col"><a href="#" data-bs-toggle="tooltip" data-bs-title="Rapporto tra debito e capitale">Debt Eq</a></th>
          <th scope="col"><a href="#" data-bs-toggle="tooltip" data-bs-title="Reddito operativo per unità di ricavo">Op Margin</a></th>
        </tr>
      </thead>
      <tbody>
        <% @variabili.each do |variabile| %>
          <tr>
            <th scope="row"><%= variabile.nome =%></th>
            <td><li><%= link_to variabile.isin, variabile %></li></td>
            <td><%= variabile.paese %></td>
            <td><%= variabile.prezzo %></td>
            <td><%= variabile.marketcap %></td>
            <td><%= variabile.settore %></td>
            <td><%= variabile.volume %></td>
            <td><%= variabile.ebitda %></td>
            <td><%= variabile.roe %></td>
            <td><%= variabile.roa %></td>
            <td><%= variabile.pe %></td>
            <td><%= variabile.ps %></td>
            <td><%= variabile.pb %></td>
            <td><%= variabile.divyield %></td>
            <td><%= variabile.debteq %></td>
            <td><%= variabile.opmargin %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
  </body>
  <script>
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
    const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
  </script>
</html>