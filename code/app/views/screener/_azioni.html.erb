<h1>Azioni</h1>
<div class=" table-responsive">
  <table name="screener" style="text-align:center" class="table text-black" id="tab" rules="rows">
    <thead>
      <tr>
        <th scope="col"><%= link_to "Nome", order_by: "nome", direction: (%w[asc].include?(params[:direction]) ? "desc" : "asc") %></th>
        <th scope="col" data-bs-toggle="tooltip" data-bs-title="Codice identificativo"><%= link_to "ISIN", order_by: "isin", direction: (%w[asc].include?(params[:direction]) ? "desc" : "asc") %></th>
        <th scope="col"><%= link_to "Paese", order_by: "paese", direction: (%w[asc].include?(params[:direction]) ? "desc" : "asc") %></th>
        <th scope="col"><%= link_to "Prezzo(€)", order_by: "prezzo", direction: (%w[asc].include?(params[:direction]) ? "desc" : "asc") %></th>
        <th scope="col" data-bs-toggle="tooltip" data-bs-title="Capitalizzazione di mercato"><%= link_to "Marketcap(€)", order_by: "marketcap", direction: (%w[asc].include?(params[:direction]) ? "desc" : "asc") %></th>
        <th scope="col"><%= link_to "Settore", order_by: "settore", direction: (%w[asc].include?(params[:direction]) ? "desc" : "asc") %></th>
        <th scope="col"><%= link_to "Volume", order_by: "volume", direction: (%w[asc].include?(params[:direction]) ? "desc" : "asc") %></th>
        <th scope="col" data-bs-toggle="tooltip" data-bs-title="Earnings Before Interests Taxes Depreciation and Amortization"><%= link_to "EBITDA(€)", order_by: "ebitda", direction: (%w[asc].include?(params[:direction]) ? "desc" : "asc") %></th>
        <th scope="col" data-bs-toggle="tooltip" data-bs-title="Return On Equity"><%= link_to "ROE", order_by: "roe", direction: (%w[asc].include?(params[:direction]) ? "desc" : "asc") %></th>
        <th scope="col" data-bs-toggle="tooltip" data-bs-title="Return On Asset"><%= link_to "ROA", order_by: "roa", direction: (%w[asc].include?(params[:direction]) ? "desc" : "asc") %></th>
        <th scope="col" data-bs-toggle="tooltip" data-bs-title="Price to Earnings ratio"><%= link_to "PE", order_by: "pe", direction: (%w[asc].include?(params[:direction]) ? "desc" : "asc") %></th>
        <th scope="col" data-bs-toggle="tooltip" data-bs-title="Price to Sales ratio"><%= link_to "PS", order_by: "ps", direction: (%w[asc].include?(params[:direction]) ? "desc" : "asc") %></th>
        <th scope="col" data-bs-toggle="tooltip" data-bs-title="Price to Book ratio"><%= link_to "PB", order_by: "pb", direction: (%w[asc].include?(params[:direction]) ? "desc" : "asc") %></th>
        <th scope="col" data-bs-toggle="tooltip" data-bs-title="Rapporto tra l'ultimo dividendo annuo per azione e il prezzo del titolo"><%= link_to "Div Yield", order_by: "divyield", direction: (%w[asc].include?(params[:direction]) ? "desc" : "asc") %></th>
        <th scope="col" data-bs-toggle="tooltip" data-bs-title="Rapporto tra debito e capitale"><%= link_to "Debt Eq", order_by: "debteq", direction: (%w[asc].include?(params[:direction]) ? "desc" : "asc") %></th>
        <th scope="col" data-bs-toggle="tooltip" data-bs-title="Reddito operativo per unità di ricavo"><%= link_to "Op Margin", order_by: "opmargin", direction: (%w[asc].include?(params[:direction]) ? "desc" : "asc") %></th>
      </tr>
    </thead>
    <tbody>
      <% @soluzione.each do |sol| %>
        <tr>
          <th scope="row"><%= sol.nome %></th>
          <td><li><%= link_to sol.isin, sol %></li></td>
          <td><%= sol.paese %></td>
          <td><%= sol.prezzo.round(2) %></td>
          <td><%= sol.marketcap.round(2) %></td>
          <td><%= sol.settore %></td>
          <td><%= sol.volume.round(2) %></td>
          <td><%= sol.ebitda.round(2) %></td>
          <td><%= sol.roe.round(2) %></td>
          <td><%= sol.roa.round(2) %></td>
          <td><%= sol.pe.round(2) %></td>
          <td><%= sol.ps.round(2) %></td>
          <td><%= sol.pb.round(2) %></td>
          <td><%= sol.divyield.round(2) %></td>
          <td><%= sol.debteq.round(2) %></td>
          <td><%= sol.opmargin.round(2) %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>